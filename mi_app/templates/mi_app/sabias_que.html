<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>50 Datos Curiosos sobre Energ√≠a El√©ctrica - Voltify Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .category-card {
            transition: all 0.3s ease;
        }
        .category-card:hover {
            transform: translateY(-5px);
        }
        .fact-card {
            transition: all 0.3s ease;
        }
        .fact-card:hover {
            transform: scale(1.02);
        }
        .search-highlight {
            background-color: #fef08a;
            padding: 2px 4px;
            border-radius: 4px;
        }
    </style>
</head>
<body class="bg-gray-50 dark:bg-gray-900 min-h-screen">
    <!-- Header -->
    <header class="bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-6">
                <div class="flex items-center">
                    <a href="{% url 'inicio' %}" class="flex items-center group">
                        <div class="text-3xl mr-3 text-blue-600 transition-transform group-hover:scale-110">‚ö°</div>
                        <div>
                            <h1 class="text-2xl font-bold text-gray-800 dark:text-white">Voltify Pro</h1>
                            <p class="text-gray-600 dark:text-gray-300 text-sm">Biblioteca de Datos Curiosos</p>
                        </div>
                    </a>
                </div>
                <div class="flex items-center space-x-4">
                    <a href="{% url 'seleccionar_artefacto_hogar' %}" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors">
                        Volver a Electrodom√©sticos
                    </a>
                    <button id="themeToggle" class="p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300">
                        <i class="fas fa-moon"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Hero Section -->
        <div class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-gray-800 dark:text-white mb-4">
                50 Datos Curiosos sobre Energ√≠a El√©ctrica
            </h1>
            <p class="text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto">
                Descubre informaci√≥n matem√°ticamente fascinante sobre el consumo el√©ctrico, 
                eficiencia energ√©tica y el impacto econ√≥mico de tus electrodom√©sticos
            </p>
        </div>

        <!-- Search and Filters -->
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6 mb-8">
            <div class="flex flex-col md:flex-row gap-4 items-center justify-between">
                <div class="w-full md:w-auto">
                    <div class="relative">
                        <input type="text" id="searchInput" placeholder="Buscar datos curiosos..." 
                               class="w-full md:w-80 px-4 py-3 pl-10 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                    </div>
                </div>
                <div class="flex flex-wrap gap-2">
                    <button class="filter-btn px-4 py-2 rounded-lg bg-blue-500 text-white font-medium" data-category="all">
                        Todos
                    </button>
                    <button class="filter-btn px-4 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 font-medium" data-category="matematica">
                        Matem√°tica
                    </button>
                    <button class="filter-btn px-4 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 font-medium" data-category="ahorro">
                        Ahorro
                    </button>
                    <button class="filter-btn px-4 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 font-medium" data-category="eficiencia">
                        Eficiencia
                    </button>
                    <button class="filter-btn px-4 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 font-medium" data-category="tecnologia">
                        Tecnolog√≠a
                    </button>
                </div>
            </div>
        </div>

        <!-- Stats -->
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
            <div class="bg-white dark:bg-gray-800 rounded-lg p-4 text-center border border-gray-200 dark:border-gray-700">
                <div class="text-2xl font-bold text-blue-600 dark:text-blue-400" id="totalFacts">50</div>
                <div class="text-gray-600 dark:text-gray-400 text-sm">Datos Totales</div>
            </div>
            <div class="bg-white dark:bg-gray-800 rounded-lg p-4 text-center border border-gray-200 dark:border-gray-700">
                <div class="text-2xl font-bold text-green-600 dark:text-green-400" id="visibleFacts">50</div>
                <div class="text-gray-600 dark:text-gray-400 text-sm">Mostrando</div>
            </div>
            <div class="bg-white dark:bg-gray-800 rounded-lg p-4 text-center border border-gray-200 dark:border-gray-700">
                <div class="text-2xl font-bold text-purple-600 dark:text-purple-400">5</div>
                <div class="text-gray-600 dark:text-gray-400 text-sm">Categor√≠as</div>
            </div>
            <div class="bg-white dark:bg-gray-800 rounded-lg p-4 text-center border border-gray-200 dark:border-gray-700">
                <div class="text-2xl font-bold text-orange-600 dark:text-orange-400">10+</div>
                <div class="text-gray-600 dark:text-gray-400 text-sm">F√≥rmulas</div>
            </div>
        </div>

        <!-- Facts Grid -->
        <div id="factsContainer" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- Los datos curiosos se cargar√°n aqu√≠ din√°micamente -->
        </div>

        <!-- Load More Button -->
        <div class="text-center mt-12">
            <button id="loadMoreBtn" class="bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-8 py-4 rounded-lg font-semibold text-lg transition-all duration-300 transform hover:scale-105">
                <i class="fas fa-plus-circle mr-2"></i>
                Cargar M√°s Datos Curiosos
            </button>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8 mt-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <div class="flex items-center justify-center mb-4">
                <div class="text-2xl mr-2">‚ö°</div>
                <div class="text-xl font-bold">Voltify Pro</div>
            </div>
            <p class="text-gray-400">
                Control de energ√≠a inteligente para hogares chilenos
            </p>
            <div class="mt-4 text-sm text-gray-400">
                <p>&copy; 2025 Voltify Pro. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <script>
        // Datos curiosos - 50 elementos organizados por categor√≠as
        const factsData = [
            // Categor√≠a: Matem√°tica (10)
            {
                id: 1,
                category: "matematica",
                title: "F√≥rmula Universal del Consumo",
                content: "Tu consumo mensual se calcula: (Watts √ó Horas √ó D√≠as) √∑ 1000 = kWh. Un televisor de 100W usado 4h/d√≠a √ó 30 d√≠as = (100√ó4√ó30)√∑1000 = 12 kWh = $1,440.",
                icon: "üßÆ",
                color: "blue"
            },
            {
                id: 2,
                category: "matematica",
                title: "Crecimiento Exponencial",
                content: "Un aumento del 7% mensual en consumo significa pagar 2.25 veces m√°s en 1 a√±o: (1.07)¬π¬≤ = 2.25. ¬°Peque√±os cambios generan grandes impactos!",
                icon: "üìà",
                color: "blue"
            },
            {
                id: 3,
                category: "matematica",
                title: "Ley del 80/20 El√©ctrico",
                content: "El 20% de tus electrodom√©sticos genera el 80% de tu consumo. Identificar esos 'villanos energ√©ticos' puede ahorrarte hasta $60,000 anuales.",
                icon: "‚öñÔ∏è",
                color: "blue"
            },
            {
                id: 4,
                category: "matematica",
                title: "Inter√©s Compuesto Energ√©tico",
                content: "Reducir tu consumo un 5% mensual significa ahorrar el 46% anual: 1 - (0.95)¬π¬≤ = 0.46. ¬°El ahorro se compone como el inter√©s bancario!",
                icon: "üí∞",
                color: "blue"
            },
            {
                id: 5,
                category: "matematica",
                title: "Suma de Potencias",
                content: "Si todos tus electrodom√©sticos funcionaran juntos: Œ£(Potencia √ó Cantidad) = Total Watts. Un hogar t√≠pico suma 8,000-12,000W vs 2,200-4,400W contratados.",
                icon: "üî¢",
                color: "blue"
            },
            {
                id: 6,
                category: "matematica",
                title: "Geometr√≠a del Ahorro",
                content: "Reducir potencia de 4.4kW a 3.3kW ahorra $7,500 mensuales. Equivale a eliminar Netflix Premium + Spotify cada mes, para siempre.",
                icon: "üìê",
                color: "blue"
            },
            {
                id: 7,
                category: "matematica",
                title: "Velocidad de la Luz en Pesos",
                content: "La energ√≠a consumida en 1 segundo (300 kWh) costar√≠a $36,000. Suficiente para que la luz viaje Santiago-Concepci√≥n 7.5 veces.",
                icon: "‚ö°",
                color: "blue"
            },
            {
                id: 8,
                category: "matematica",
                title: "Patrones Estacionales",
                content: "Si tu consumo aumenta 15% cada invierno, en 5 a√±os pagas el DOBLE en meses fr√≠os: Consumo √ó (1.15)‚Åµ = 2.01 √ó Consumo inicial.",
                icon: "üå°Ô∏è",
                color: "blue"
            },
            {
                id: 9,
                category: "matematica",
                title: "Eficiencia Exponencial",
                content: "Cambiar 5 focos incandescentes (60W) por LED (9W) ahorra: (60-9)√ó5√ó4h√ó30d = 30,600 Wh/mes = 30.6 kWh = $3,672 mensuales.",
                icon: "üí°",
                color: "blue"
            },
            {
                id: 10,
                category: "matematica",
                title: "Programaci√≥n √ìptima",
                content: "Usar lavadora 3 veces/semana vs diario ahorra: (500W √ó 2h √ó 4 d√≠as) √ó 4 semanas = 16 kWh/mes = $1,920. ¬°1 mes gratis de electricidad al a√±o!",
                icon: "‚è∞",
                color: "blue"
            },

            // Categor√≠a: Ahorro (10)
            {
                id: 11,
                category: "ahorro",
                title: "Ley del Mantenimiento",
                content: "Refrigerador con sellos da√±ados consume 30% m√°s: De 150W a 195W = (45W √ó 24h √ó 30d) = 32.4 kWh extra = $3,888 mensuales.",
                icon: "üîß",
                color: "green"
            },
            {
                id: 12,
                category: "ahorro",
                title: "Standby Matem√°tico",
                content: "10 dispositivos en standby (5W cada uno) consumen: 10 √ó 5W √ó 24h √ó 30d = 36 kWh/mes = $4,320 anuales. ¬°Regalas 1 celular nuevo anual!",
                icon: "üîå",
                color: "green"
            },
            {
                id: 13,
                category: "ahorro",
                title: "Termodin√°mica Dom√©stica",
                content: "Bajar termostato de 22¬∞C a 20¬∞C ahorra ~7%: Calefactor 2000W usado 5h/d√≠a: 2000W √ó 5h √ó 0.07 √ó 30d = 21 kWh = $2,520 mensuales.",
                icon: "üå°Ô∏è",
                color: "green"
            },
            {
                id: 14,
                category: "ahorro",
                title: "Impacto del Tiempo",
                content: "Reducir 1 hora diaria en aire acondicionado 1500W ahorra: (1500W √ó 1h √ó 30d) √∑ 1000 = 45 kWh = $5,400 mensuales. ¬°3 meses gratis al a√±o!",
                icon: "‚è±Ô∏è",
                color: "green"
            },
            {
                id: 15,
                category: "ahorro",
                title: "Elecci√≥n Inteligente",
                content: "Refrigerador eficiente (150W) vs antiguo (300W) ahorra: (300-150)W √ó 24h √ó 30d √∑ 1000 = 108 kWh/mes = $12,960 anuales.",
                icon: "üèÜ",
                color: "green"
            },
            {
                id: 16,
                category: "ahorro",
                title: "Matem√°ticas del Mantenimiento",
                content: "Aire acondicionado sucio consume 20% m√°s: De 1200W a 1440W = (240W √ó 4h √ó 30d) √∑ 1000 = 28.8 kWh extra = $3,456 mensuales.",
                icon: "üõ†Ô∏è",
                color: "green"
            },
            {
                id: 17,
                category: "ahorro",
                title: "Costo Oculto",
                content: "Cargador de laptop conectado (5W) 24/7 consume: 5W √ó 24h √ó 30d √∑ 1000 = 3.6 kWh = $432 mensuales. ¬°Vampiros energ√©ticos suman!",
                icon: "üíª",
                color: "green"
            },
            {
                id: 18,
                category: "ahorro",
                title: "Energ√≠a Potencial",
                content: "Energ√≠a que consume microondas (1000W) en 1 minuto (0.0167 kWh) podr√≠a cargar smartphone 3 veces completas.",
                icon: "üîã",
                color: "green"
            },
            {
                id: 19,
                category: "ahorro",
                title: "Agua Caliente Inteligente",
                content: "Termo el√©ctrico de 1500W usado 2h menos diarias ahorra: 1500W √ó 2h √ó 30d √∑ 1000 = 90 kWh = $10,800 anuales.",
                icon: "üöø",
                color: "green"
            },
            {
                id: 20,
                category: "ahorro",
                title: "Iluminaci√≥n Estrat√©gica",
                content: "Reemplazar 10 focos 60W por LED 9W ahorra: (60-9)W √ó 10 √ó 5h √ó 30d √∑ 1000 = 76.5 kWh = $9,180 anuales.",
                icon: "üí°",
                color: "green"
            },

            // Categor√≠a: Eficiencia (10)
            {
                id: 21,
                category: "eficiencia",
                title: "Eficiencia por Dise√±o",
                content: "Lavadora moderna consume 50% menos que una de 10 a√±os: De 500W a 250W por ciclo = ahorro de $18,000 anuales con uso diario.",
                icon: "üëï",
                color: "purple"
            },
            {
                id: 22,
                category: "eficiencia",
                title: "Refrigeraci√≥n Inteligente",
                content: "Refrigerador inverter vs convencional ahorra 40%: De 150W a 90W promedio = (60W √ó 24h √ó 30d) √∑ 1000 = 43.2 kWh = $5,184 anuales.",
                icon: "‚ùÑÔ∏è",
                color: "purple"
            },
            {
                id: 23,
                category: "eficiencia",
                title: "Climatizaci√≥n Optimizada",
                content: "Aire acondicionado inverter ajusta potencia seg√∫n necesidad, ahorrando hasta 30% vs modelos on/off tradicionales.",
                icon: "üå¨Ô∏è",
                color: "purple"
            },
            {
                id: 24,
                category: "eficiencia",
                title: "Ventilaci√≥n Natural",
                content: "Usar ventilador (75W) vs aire acondicionado (1500W) 4h/d√≠a ahorra: (1500-75)W √ó 4h √ó 30d √∑ 1000 = 171 kWh = $20,520 anuales.",
                icon: "üåÄ",
                color: "purple"
            },
            {
                id: 25,
                category: "eficiencia",
                title: "Cocina Eficiente",
                content: "Olla a presi√≥n reduce tiempo cocci√≥n 70%, ahorrando: 1500W √ó 1h √ó 0.7 √ó 20d/mes = 21 kWh = $2,520 anuales.",
                icon: "üç≥",
                color: "purple"
            },
            {
                id: 26,
                category: "eficiencia",
                title: "Lavado en Fr√≠o",
                content: "Lavar con agua fr√≠a vs caliente ahorra 90% energ√≠a calentamiento: 2000W √ó 1h √ó 0.9 √ó 12 veces/mes = 21.6 kWh = $2,592 anuales.",
                icon: "üßº",
                color: "purple"
            },
            {
                id: 27,
                category: "eficiencia",
                title: "Secado Natural",
                content: "Tender ropa vs secadora (3000W) 2h/semana ahorra: 3000W √ó 2h √ó 4semanas √∑ 1000 = 24 kWh = $2,880 anuales.",
                icon: "‚òÄÔ∏è",
                color: "purple"
            },
            {
                id: 28,
                category: "eficiencia",
                title: "Computaci√≥n Verde",
                content: "Modo suspensi√≥n vs encendido continuo ahorra 95%: 150W √ó 20h √ó 0.95 √ó 30d √∑ 1000 = 85.5 kWh = $10,260 anuales.",
                icon: "üíª",
                color: "purple"
            },
            {
                id: 29,
                category: "eficiencia",
                title: "Iluminaci√≥n Direccional",
                content: "L√°mparas LED direccionales vs iluminaci√≥n general ahorran 60%: De 100W a 40W por zona = $7,200 anuales en hogar promedio.",
                icon: "üéØ",
                color: "purple"
            },
            {
                id: 30,
                category: "eficiencia",
                title: "Aislamiento T√©rmico",
                content: "Ventanas doble vidrio reducen 30% uso calefacci√≥n/refrigeraci√≥n, ahorrando hasta $45,000 anuales en clima extremo.",
                icon: "ü™ü",
                color: "purple"
            },

            // Categor√≠a: Tecnolog√≠a (10)
            {
                id: 31,
                category: "tecnologia",
                title: "Dom√≥tica Inteligente",
                content: "Programadores autom√°ticos pueden ahorrar 15% consumo total apagando electrodom√©sticos autom√°ticamente.",
                icon: "ü§ñ",
                color: "orange"
            },
            {
                id: 32,
                category: "tecnologia",
                title: "Paneles Solares",
                content: "Instalaci√≥n solar de 3kW genera ~450 kWh/mes, cubriendo 100% necesidades hogar promedio y ahorrando $54,000 mensuales.",
                icon: "‚òÄÔ∏è",
                color: "orange"
            },
            {
                id: 33,
                category: "tecnologia",
                title: "Termostatos Inteligentes",
                content: "Ajuste autom√°tico de temperatura puede ahorrar 10-12% calefacci√≥n y 15% refrigeraci√≥n = $30,000 anuales promedio.",
                icon: "üå°Ô∏è",
                color: "orange"
            },
            {
                id: 34,
                category: "tecnologia",
                title: "Monitores de Energ√≠a",
                content: "Dispositivos que miden consumo en tiempo real ayudan a identificar fugas, potencialmente ahorrando 5-15% factura mensual.",
                icon: "üìä",
                color: "orange"
            },
            {
                id: 35,
                category: "tecnologia",
                title: "Bater√≠as de Reserva",
                content: "Sistemas de almacenamiento permiten usar energ√≠a solar nocturna, aumentando autosuficiencia hasta 80%.",
                icon: "üîã",
                color: "orange"
            },
            {
                id: 36,
                category: "tecnologia",
                title: "Enchufes Inteligentes",
                content: "Control remoto de electrodom√©sticos puede ahorrar 5-10% eliminando consumos fantasmas = $6,000-$12,000 anuales.",
                icon: "üîå",
                color: "orange"
            },
            {
                id: 37,
                category: "tecnologia",
                title: "Vehiculos El√©ctricos",
                content: "Cargar EV en casa (30 kWh/100km) vs gasolina ($10,000/100km) ahorra $7,000 por cada 100km recorridos.",
                icon: "üöó",
                color: "orange"
            },
            {
                id: 38,
                category: "tecnologia",
                title: "Gesti√≥n de Demanda",
                content: "Sistemas que desplazan consumo a horas valle pueden ahorrar 20-30% en tarifas con discriminaci√≥n horaria.",
                icon: "‚è∞",
                color: "orange"
            },
            {
                id: 39,
                category: "tecnologia",
                title: "IoT en el Hogar",
                content: "Red de sensores que optimizan climatizaci√≥n e iluminaci√≥n puede reducir consumo general 8-12% autom√°ticamente.",
                icon: "üì°",
                color: "orange"
            },
            {
                id: 40,
                category: "tecnologia",
                title: "Bombas de Calor",
                content: "Sistemas modernos de climatizaci√≥n con COP 3-4 producen 3-4 veces m√°s energ√≠a t√©rmica que la el√©ctrica que consumen.",
                icon: "üî•",
                color: "orange"
            },

            // 10 datos adicionales variados
            {
                id: 41,
                category: "matematica",
                title: "Rendimiento Decreciente",
                content: "Primera medida de ahorro ahorra 20%, segunda 15%, tercera 10%. La ley de rendimientos decrecientes tambi√©n aplica en eficiencia energ√©tica.",
                icon: "üìâ",
                color: "blue"
            },
            {
                id: 42,
                category: "ahorro",
                title: "Ahorro Acumulativo",
                content: "Si ahorras $5,000 mensuales en electricidad, en 10 a√±os tendr√≠as $600,000 + intereses si lo inviertes = ¬°Un departamento peque√±o!",
                icon: "üí∞",
                color: "green"
            },
            {
                id: 43,
                category: "eficiencia",
                title: "Eficiencia de Escala",
                content: "Familia de 4 gasta 30% menos per c√°pita que persona viviendo sola: $60,000 vs $85,000 mensuales por persona.",
                icon: "üë®‚Äçüë©‚Äçüëß‚Äçüë¶",
                color: "purple"
            },
            {
                id: 44,
                category: "tecnologia",
                title: "Blockchain Energ√©tico",
                content: "Sistemas P2P de intercambio de energ√≠a pueden reducir costos 15-25% mediante compra/venta directa entre vecinos.",
                icon: "‚õìÔ∏è",
                color: "orange"
            },
            {
                id: 45,
                category: "matematica",
                title: "Curva de Aprendizaje",
                content: "Tras instalar paneles solares, usuarios optimizan consumo naturalmente, aumentando autosuficiencia 15% en primer a√±o.",
                icon: "üìö",
                color: "blue"
            },
            {
                id: 46,
                category: "ahorro",
                title: "Impacto Ambiental",
                content: "Ahorrar 100 kWh evita ~84 kg CO2 = plantar 4 √°rboles. Tu ahorro mensual podr√≠a equivaler a un bosque peque√±o anual.",
                icon: "üå≥",
                color: "green"
            },
            {
                id: 47,
                category: "eficiencia",
                title: "Eficiencia Horaria",
                content: "Usar lavadora/lavavajillas despu√©s de 18:00 ahorra 25% vs horario punta en tarifas con discriminaci√≥n horaria.",
                icon: "üåô",
                color: "purple"
            },
            {
                id: 48,
                category: "tecnologia",
                title: "Realidad Virtual",
                content: "Simuladores de consumo permiten probar cambios antes de implementarlos, optimizando decisiones de eficiencia.",
                icon: "üëì",
                color: "orange"
            },
            {
                id: 49,
                category: "matematica",
                title: "Algoritmos Predictivos",
                content: "IA puede predecir tu consumo con 95% precisi√≥n, identificando oportunidades de ahorro que humanos pasar√≠an por alto.",
                icon: "ü§î",
                color: "blue"
            },
            {
                id: 50,
                category: "ahorro",
                title: "Retorno de Inversi√≥n",
                content: "Invertir $300,000 en eficiencia energ√©tica t√≠picamente retorna $600,000 en 5 a√±os = 100% ROI + beneficio ambiental.",
                icon: "üìà",
                color: "green"
            }
        ];

        // Variables de estado
        let currentFilter = 'all';
        let currentSearch = '';
        let visibleFacts = 12;
        let allFacts = [...factsData];

        // Inicializaci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
        });

        function initializeApp() {
            renderFacts();
            setupEventListeners();
            updateStats();
        }

        function setupEventListeners() {
            // Filtros por categor√≠a
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    currentFilter = this.dataset.category;
                    document.querySelectorAll('.filter-btn').forEach(b => {
                        b.classList.remove('bg-blue-500', 'text-white');
                        b.classList.add('bg-gray-100', 'dark:bg-gray-700', 'text-gray-800', 'dark:text-gray-200');
                    });
                    this.classList.remove('bg-gray-100', 'dark:bg-gray-700', 'text-gray-800', 'dark:text-gray-200');
                    this.classList.add('bg-blue-500', 'text-white');
                    renderFacts();
                });
            });

            // B√∫squeda
            document.getElementById('searchInput').addEventListener('input', function(e) {
                currentSearch = e.target.value.toLowerCase();
                renderFacts();
            });

            // Cargar m√°s
            document.getElementById('loadMoreBtn').addEventListener('click', function() {
                visibleFacts += 12;
                renderFacts();
            });

            // Tema oscuro/claro
            document.getElementById('themeToggle').addEventListener('click', function() {
                document.documentElement.classList.toggle('dark');
                const icon = this.querySelector('i');
                if (document.documentElement.classList.contains('dark')) {
                    icon.classList.remove('fa-moon');
                    icon.classList.add('fa-sun');
                } else {
                    icon.classList.remove('fa-sun');
                    icon.classList.add('fa-moon');
                }
            });
        }

        function renderFacts() {
            const container = document.getElementById('factsContainer');
            let filteredFacts = allFacts;

            // Aplicar filtros
            if (currentFilter !== 'all') {
                filteredFacts = filteredFacts.filter(fact => fact.category === currentFilter);
            }

            // Aplicar b√∫squeda
            if (currentSearch) {
                filteredFacts = filteredFacts.filter(fact => 
                    fact.title.toLowerCase().includes(currentSearch) || 
                    fact.content.toLowerCase().includes(currentSearch)
                );
            }

            // Limitar a facts visibles
            const factsToShow = filteredFacts.slice(0, visibleFacts);

            // Renderizar
            container.innerHTML = factsToShow.map(fact => `
                <div class="fact-card bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6" data-category="${fact.category}">
                    <div class="flex items-start mb-4">
                        <div class="bg-${fact.color}-100 dark:bg-${fact.color}-900 p-3 rounded-lg mr-4">
                            <span class="text-2xl">${fact.icon}</span>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-800 dark:text-white text-lg mb-2">${highlightSearch(fact.title)}</h3>
                            <span class="inline-block px-2 py-1 text-xs rounded-full bg-${fact.color}-100 dark:bg-${fact.color}-900 text-${fact.color}-800 dark:text-${fact.color}-200 capitalize">
                                ${fact.category}
                            </span>
                        </div>
                    </div>
                    <p class="text-gray-600 dark:text-gray-300 text-sm leading-relaxed">
                        ${highlightSearch(fact.content)}
                    </p>
                    <div class="mt-4 pt-4 border-t border-gray-200 dark:border-gray-700 flex justify-between items-center">
                        <span class="text-xs text-gray-500 dark:text-gray-400">Dato #${fact.id}</span>
                        <button class="share-btn text-${fact.color}-600 dark:text-${fact.color}-400 hover:text-${fact.color}-700 dark:hover:text-${fact.color}-300" data-fact="${fact.id}">
                            <i class="fas fa-share-alt"></i>
                        </button>
                    </div>
                </div>
            `).join('');

            // Configurar botones de compartir
            document.querySelectorAll('.share-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const factId = this.dataset.fact;
                    shareFact(factId);
                });
            });

            // Ocultar/mostrar bot√≥n de cargar m√°s
            document.getElementById('loadMoreBtn').style.display = 
                factsToShow.length < filteredFacts.length ? 'block' : 'none';

            updateStats();
        }

        function highlightSearch(text) {
            if (!currentSearch) return text;
            const regex = new RegExp(`(${currentSearch})`, 'gi');
            return text.replace(regex, '<span class="search-highlight">$1</span>');
        }

        function shareFact(factId) {
            const fact = allFacts.find(f => f.id == factId);
            if (navigator.share) {
                navigator.share({
                    title: `Voltify Pro - ${fact.title}`,
                    text: fact.content,
                    url: window.location.href
                });
            } else {
                // Fallback para navegadores que no soportan Web Share API
                const text = `${fact.title}: ${fact.content}`;
                navigator.clipboard.writeText(text).then(() => {
                    alert('¬°Dato copiado al portapapeles!');
                });
            }
        }

        function updateStats() {
            const filteredFacts = allFacts.filter(fact => {
                const matchesFilter = currentFilter === 'all' || fact.category === currentFilter;
                const matchesSearch = !currentSearch || 
                    fact.title.toLowerCase().includes(currentSearch) || 
                    fact.content.toLowerCase().includes(currentSearch);
                return matchesFilter && matchesSearch;
            });

            document.getElementById('totalFacts').textContent = allFacts.length;
            document.getElementById('visibleFacts').textContent = Math.min(visibleFacts, filteredFacts.length);
        }
    </script>
</body>
</html>